{% extends "base.html" %}

{% block title %}Criar Usu치rio{% endblock %}

{% block content %}
{% if messages %}
  <div id="messages" class="mb-4">
    {% for message in messages %}
      <div class="
        {% if message.tags == 'success' %} bg-green-600 text-white p-2 rounded mb-2
        {% elif message.tags == 'error' %} bg-red-600 text-white p-2 rounded mb-2
        {% else %} bg-gray-600 text-white p-2 rounded mb-2 {% endif %}
      ">
        {{ message }}
      </div>
    {% endfor %}
  </div>

  <script>
    // Espera 5 segundos e remove o bloco de mensagens
    setTimeout(function() {
      var msg = document.getElementById("messages");
      if (msg) {
        msg.style.transition = "opacity 0.5s ease"; // efeito suave
        msg.style.opacity = "0";
        setTimeout(function(){ msg.remove(); }, 500); // remove do DOM
      }
    }, 5000);
  </script>
{% endif %}

<div class="flex items-center justify-center min-h-[80vh] px-4">
  <div class="w-full max-w-md bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg p-8 shadow-sm">
    <h3 class="text-2xl font-bold mb-6 text-center text-slate-900 dark:text-white">Criar novo usu치rio</h3>
    <form method="POST" class="space-y-5">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium leading-6 text-slate-900 dark:text-slate-200 mb-2">Nome</label>
        {{ form.first_name }}
      </div>
      <div>
        <label class="block text-sm font-medium leading-6 text-slate-900 dark:text-slate-200 mb-2">Usu치rio</label>
        {{ form.username }}
      </div>
      <div>
        <label class="block text-sm font-medium leading-6 text-slate-900 dark:text-slate-200 mb-2">Perfil</label>
        {{ form.perfil }}
      </div>
      <div>
        <label class="block text-sm font-medium leading-6 text-slate-900 dark:text-slate-200 mb-2">Vaga</label>
        {{ form.vaga }}
      </div>
      <div>
        <label class="block text-sm font-medium leading-6 text-slate-900 dark:text-slate-200 mb-2">Senha</label>
        {{ form.password1 }}
      </div>
      <div>
        <label class="block text-sm font-medium leading-6 text-slate-900 dark:text-slate-200 mb-2">Confirmar Senha</label>
        {{ form.password2 }}
      </div>
      <div class="flex justify-between gap-3 mt-8">
        <a href="{% url 'list_users' %}"
           class="flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-white rounded-md hover:bg-slate-300 dark:hover:bg-slate-600 transition font-medium text-center">
          Cancelar
        </a>
        <button type="submit"
          class="flex-1 px-4 py-2.5 bg-primary hover:opacity-90 text-white rounded-md transition font-medium">
          Criar Usu치rio
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}